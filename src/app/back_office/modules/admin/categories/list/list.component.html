<div class="container mt-4">

  <!-- HEADER -->
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="fw-bold">
      <i class="bi bi-tags-fill me-2"></i> Categories List
    </h2>

    <button class="btn btn-primary" (click)="onAdd()">
      <i class="bi bi-plus-lg"></i> Add Category
    </button>
  </div>

  <!-- SEARCH -->
  <div class="row mb-4 g-3">
    <div class="col-md-4">
      <input
        type="text"
        class="form-control"
        placeholder="Search by label..."
        [(ngModel)]="searchText"
        (input)="onSearch()"
      />
    </div>
  </div>

  <!-- TABLE CONTAINER (SCROLL HERE) -->
  <div class="table-responsive shadow-sm rounded table-scroll">
    <table class="table table-hover align-middle mb-0">
      <thead class="table-dark fixed">
        <tr>
          <th>#</th>
          <th>Image</th>
          <th>Label</th>
          <th>Actions</th>
        </tr>
      </thead>

      <tbody >
        @for (item of categories; track item.id; let i = $index) {
          <tr>
            <td>{{ (page - 1) * limit + i + 1 }}</td>

            <td>
              <img
                [src]="item.image"
                class="rounded shadow-sm"
                width="120"
                height="80"
                style="object-fit: cover"
              />
            </td>

            <td class="fw-bold">{{ item.label }}</td>

            <td>
              <button
                class="btn btn-sm btn-outline-warning me-1"
                (click)="onEdit(item.id)">
                <i class="bi bi-pencil-square"></i>
              </button>

              <button
                class="btn btn-sm btn-outline-danger"
                (click)="onDelete(item.id)">
                <i class="bi bi-trash"></i>
              </button>
            </td>
          </tr>
        }
      </tbody>
    </table>
  </div>

  <!-- PAGINATION -->
  <app-pagination
    [page]="page"
    [limit]="limit"
    [hasNext]="hasNext"
    (pageChange)="onPageChange($event)"
    (limitChange)="onLimitChange($event)">
  </app-pagination>

</div>
